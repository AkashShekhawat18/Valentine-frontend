
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Un-Rejectable Valentine</title>
    <style>
        /* --- GLOBAL STYLES --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #ffe6e6;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Important for the button growth trick */
        }

        .hidden {
            display: none !important;
        }

        /* --- LANDING PAGE STYLES --- */
        #landing-view, #maker-view {
            text-align: center;
            background: white;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 500px;
            width: 90%;
            position: relative;
            z-index: 10;
        }

        h1 { color: #d32f2f; margin-bottom: 10px; line-height: 1.2; }
        p { color: #555; line-height: 1.6; }

        .btn {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 15px auto;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            text-decoration: none;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn:hover { transform: scale(1.02); }

        .btn-primary { background: #d32f2f; color: white; }
        .btn-secondary { background: white; color: #d32f2f; border: 2px solid #d32f2f; }
        
        .price-tag {
            background: #ffeb3b;
            color: #333;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-left: 8px;
            vertical-align: middle;
        }

        /* --- MAKER PAGE STYLES --- */
        input[type="text"] {
            width: 80%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 20px;
            outline: none;
        }
        input[type="text"]:focus { border-color: #d32f2f; }
        
        .link-box {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            word-break: break-all;
            font-family: monospace;
            border: 1px dashed #ccc;
        }

        /* --- VALENTINE APP STYLES --- */
        #valentine-view {
            text-align: center;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: absolute;
            top: 0;
            left: 0;
        }

        .gif-container img {
            max-width: 300px;
            width: 80%;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .valentine-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
            position: relative; /* Needed for z-index context */
        }

        .v-btn {
            padding: 15px 30px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.1s ease;
            font-weight: bold;
        }

        #yesBtn { background-color: #4CAF50; color: white; z-index: 100; }
        #noBtn { background-color: #f44336; color: white; }

        /* Success screen within Valentine view */
        #success-container { display: none; }
        
    </style>
</head>
<body>

    <!-- VIEW 1: LANDING PAGE (Sales) -->
    <div id="landing-view" class="hidden">
        <h1>The Valentine Ask That <br><i>Cannot</i> Be Rejected.</h1>
        <p>Send a link where the "No" button runs away and the "Yes" button takes over the screen. It's cute, funny, and 100% effective.</p>
        <p style="font-size: 0.95rem; color: #d32f2f; margin-top: -10px;">(And yes, you can replace "Cutie" with <b>their real name</b>!)</p>
        
        <div style="background: #fff0f0; border-radius: 10px; padding: 15px; margin: 20px 0;">
            <h3 style="margin: 0 0 10px 0; font-size: 1rem;">Try the Demo:</h3>
            <button onclick="window.location.href='?name=Cutie'" class="btn btn-secondary">‚ñ∂Ô∏è Play Animation</button>
        </div>

        <!-- üëáüëáüëá PASTE YOUR STRIPE LINK IN THE HREF BELOW üëáüëáüëá -->
        <a href="https://buy.stripe.com/28E7sN77r1af3xZ2QV4Ja00" class="btn btn-primary">
            Create Custom Link <span class="price-tag">$1.00</span>
        </a>
        <p style="font-size: 0.8rem; color: #888;">Instant access. Works on all phones.</p>
    </div>

    <!-- VIEW 2: MAKER PAGE (Hidden, accessed via ?mode=maker) -->
    <div id="maker-view" class="hidden">
        <h1>‚ù§Ô∏è Create Your Link</h1>
        <p>Enter the name of your Valentine below:</p>
        
        <input type="text" id="nameInput" placeholder="e.g. Sarah" onkeyup="if(event.key === 'Enter') generateLink()">
        <button onclick="generateLink()" class="btn btn-primary">Generate Link</button>
        
        <div id="result-area" class="hidden">
            <p><strong>Send this link to them:</strong></p>
            <div class="link-box" id="finalLink">...</div>
            <button onclick="copyLink()" class="btn btn-secondary" style="margin-top: 10px; padding: 10px; font-size: 0.9rem;">Copy to Clipboard</button>
            <button onclick="testLink()" class="btn btn-secondary" style="margin-top: 5px; padding: 10px; font-size: 0.9rem;">Test it</button>
        </div>
    </div>

    <!-- VIEW 3: VALENTINE APP (The actual looping animation) -->
    <div id="valentine-view" class="hidden">
        <div id="question-container">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZnJvZnV3bXZ4Y3hxY3Zwc280b2Q0eHR3c214M2o4eWx5eXo2eW41eSZlcD12MV9zdGlja2Vyc19zZWFyY2gmY3Q9cw/cLS1cfxvGOPVpf9g3y/giphy.gif" alt="Cute Bear">
            </div>
            <h1 id="valentineQuestion">Will you be my Valentine?</h1>
            <div class="valentine-buttons">
                <button id="yesBtn" class="v-btn">Yes</button>
                <button id="noBtn" class="v-btn">No</button>
            </div>
        </div>

        <div id="success-container">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3R6eW55bnh6M2l4bHl4ZXl4ZXl4ZXl4ZXl4ZXl4ZXl4ZXl4ZXl4ySZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/T86i6yDyOYz7J6dPhf/giphy.gif" alt="Happy Hug">
            </div>
            <h1>Yay! That's the best decision you ever made! ‚ù§Ô∏è</h1>
        </div>
    </div>

    <script>
        // --- ROUTING LOGIC ---
        // This decides which "Page" to show based on the URL
        const urlParams = new URLSearchParams(window.location.search);
        const mode = urlParams.get('mode');
        const nameParam = urlParams.get('name');

        const landingView = document.getElementById('landing-view');
        const makerView = document.getElementById('maker-view');
        const valentineView = document.getElementById('valentine-view');

        if (mode === 'maker') {
            // Case 1: The Maker Page (After they pay)
            makerView.classList.remove('hidden');
            document.title = "Create Your Link";
        } else if (nameParam) {
            // Case 2: The Valentine Card (When a name exists)
            valentineView.classList.remove('hidden');
            initValentine(nameParam);
        } else {
    // Case 3: Default = Valentine View
    valentineView.classList.remove('hidden');
    initValentine("Anshiii");
}


        // --- MAKER FUNCTIONALITY ---
        function generateLink() {
            const name = document.getElementById('nameInput').value.trim();
            if (!name) return alert("Please enter a name!");
            
            // Construct the URL based on where the site is currently hosted
            const baseUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
            const finalUrl = `${baseUrl}?name=${encodeURIComponent(name)}`;
            
            document.getElementById('finalLink').innerText = finalUrl;
            document.getElementById('result-area').classList.remove('hidden');
        }

        function copyLink() {
            const linkText = document.getElementById('finalLink').innerText;
            navigator.clipboard.writeText(linkText).then(() => {
                alert("Link copied!");
            });
        }

        function testLink() {
             const linkText = document.getElementById('finalLink').innerText;
             window.open(linkText, '_blank');
        }

        // --- VALENTINE APP LOGIC ---
        function initValentine(name) {
            document.title = "For " + name + " ‚ù§Ô∏è";
            document.getElementById('valentineQuestion').innerText = name + ", will you be my Valentine?";

            const yesBtn = document.getElementById('yesBtn');
            const noBtn = document.getElementById('noBtn');
            const questionContainer = document.getElementById('question-container');
            const successContainer = document.getElementById('success-container');

            const noTexts = [
                "Are you sure? Anshiii ", "Really sure? Anshiii", "Think again! Anshiii", "Last chance!", 
                "Surely not? Anshiii", "You might regret this! Anshiii", "Give it another thought! Anshiii", 
                "Are you absolutely certain? Anshiii", "This could be a mistake! Anshiii", "Have a heart! Anshiii", 
                "Don't be so cold! Anshiii", "Change of heart? Anshiii", "Wouldn't you reconsider? Anshiii", 
                "Is that your final answer? Anshiii", "You're breaking my heart ;( Anshiii)", "Plsss? :("
            ];
            let clickCount = 0;

            noBtn.addEventListener('click', () => {
                clickCount++;
                if (clickCount < noTexts.length) {
                    noBtn.innerText = noTexts[clickCount];
                } else {
                    noBtn.innerText = noTexts[noTexts.length - 1];
                }
                
                // Grow the Yes button
                const currentSize = parseFloat(window.getComputedStyle(yesBtn).fontSize);
                const currentPaddingTop = parseFloat(window.getComputedStyle(yesBtn).paddingTop);
                const currentPaddingRight = parseFloat(window.getComputedStyle(yesBtn).paddingRight);
                
                yesBtn.style.fontSize = `${currentSize * 1.4}px`;
                yesBtn.style.padding = `${currentPaddingTop * 1.2}px ${currentPaddingRight * 1.2}px`;
            });

            yesBtn.addEventListener('click', () => {
                questionContainer.style.display = 'none';
                successContainer.style.display = 'block';
            });
        }
    </script>
</body>
</html>